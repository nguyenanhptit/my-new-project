<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>caro geme simple</title>
</head>
<body>
<h3> caro game</h3>
<p> X danh truoc - Lua chon vi tri 0->2</p>
<p id="caro"></p>
<input type="button" value="X" onclick="changex();">
<input type="button" value="O" onclick="changeo();">


  <script>
    let b = document.getElementById('caro');
    let board = [];
    let data ="";

    for (let i =0 ;i<3; i++){
      board[i] = new Array(".",".",".");
    }

    for (let i =0 ; i<3;i++){
      data += "<br>";
      for (let j=0; j<3 ; j++){
        data += board[i][j]+ "&nbsp;&nbsp;&nbsp;&nbsp";
      }
    }

     b.innerHTML =data;

    function changex() {
      let positx =prompt('Vi tri Ngang X:');
      let posity = prompt('Vi tri Doc X: ');
      data ="";
      board[positx][posity] = "x";
      for (let i =0 ; i<3;i++){
        data += "<br>";
        for (let j=0; j<3 ; j++){
          data += board[i][j]+ "&nbsp;&nbsp;&nbsp;&nbsp";
        }
      }

      b.innerHTML= data;
      checkwin();
    }

    function changeo() {
      let positx =prompt('Vi tri Ngang O: ');
      let posity = prompt('Vi tri Doc O: ');
      data ="";
      board[positx][posity] = "o";
      for (let i =0 ; i<3;i++){
        data += "<br>";
        for (let j=0; j<3 ; j++){
          data += board[i][j]+ "&nbsp;&nbsp;&nbsp;&nbsp";
        }
      }
      b.innerHTML= data;
      checkwin();
    }

    function checkwin() {
      var win =-1;
      for(var i =0 ; i<3; i++){
        if(board[i][0]=== board[i][1] && board[i][1]===board[i][2] && board[i][0]==='x'){
          if(board[i][0]==='x'){
            win = 0;
          }else if (board[i][0]==='o'){
            win = 1;
          }
        }
      //   for(var i =0 ; i<3; i++){
      //     if(board[i][0]==='x' && board[i][0]=== board[i][1] && board[i][1]===board[i][2] ){

      //         win = 0;
      //       }else if(board[i][0]==='0' && board[i][0]=== board[i][1] && board[i][1]===board[i][2] ){
      //         win = 1;
      //       }
        if(board[0][i]===board[1][i] && board[1][i]===board[2][i]){
          if(board[0][i]==='x'){
            win = 0;
          }else if (board[0][i]==='o'){
            win = 1;
          }
        }
        if(board[0][0]===board[1][1] && board[1][1]===board[2][2]||
          board[0][2]===board[1][1] && board[1][1]===board[2][0]
        ){
          if(board[1][1]==='x'){
            win = 0;
          }else if (board[1][1]==='o'){
            win = 1;
          }
        }
       }

      if(win ===0 ){alert('x win');
      }else if (win === 1){
        alert('o win');}

    }

  </script>
</body>
</html>
