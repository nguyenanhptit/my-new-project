<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Bouncing</title>
  <style>
    *{padding: 0 ; margin: 0;}
    canvas  {background: lightgrey; display: block; margin: 0 auto}
  </style>
</head>
<body>
  <canvas id="bouncing" width="680" height="320"></canvas>

  <script src="BallProperties.js"></script>
  <script src="BoxProperties.js"></script>
  <script src="Point.js"></script>

  <script>
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawwBall();
    darawPaddle();
    drawBox();
    touch();
    drawScore();
    drawLive();


    if( y + dy < ballRad) {      //len xuong check tai vien
      dy = -dy;
    }else if(y + dy > canvas.height - ballRad){
      if(x>paddleX && x<paddleWidth + paddleX){
        dy = -dy
      }else {

        live--;
        if(live < 0){
           alert("GAME OVER");
           document.location.reload();
        }else if(live >= 0){
          x = canvas.width/2;
          y = canvas.height-25;
          dx = 2;
          dy = -2;
          paddleX = (canvas.width-paddleWidth)/2;
        }
      }
    }
    if(x + dx > canvas.width - ballRad || x + dx < ballRad) {       // trai phai
      dx = -dx;
    }
    if(rightPress && paddleX < canvas.width-paddleWidth){
      paddleX +=3;
    }else if(leftPress && paddleX > 0){
      paddleX -=3;
    }
    x+= dx;
    y+= dy;
    requestAnimationFrame(draw);
  };

  draw();
</script>

</body>
</html>
